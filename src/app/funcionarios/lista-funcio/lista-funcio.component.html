<div class="container">

  <div class="card">
    <h5>Listado de Usuarios autorizados</h5>
    <div>
      <button type="button" class="btn btn-success" id="btcrear"   data-toggle="modal" data-target="#exampleModalCr" (click)="crear()">Adicionar Funcionario</button>
    </div>
    <p-table #dt1 [value]="funcionarios" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
             currentPageReportTemplate="Listando {first} a {last} de {totalRecords} registros" styleClass="p-datatable-striped"
             [globalFilterFields]="['usuario','estadoT']">

      <ng-template pTemplate="caption">

        <div class="p-d-flex">

          <div style="text-align: right">
            <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
            <input type="text" pInputText size="30" placeholder="Información a buscar" (input)="dt1.filterGlobal($event.target.value, 'contains')" style="width:auto">
          </div>

        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>Nombre del usuario</th>

          <th>Estado</th>
          <th>Fecha de creación</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-dato>
        <tr>
          <td >{{dato.usuario}} </td>
          <td *ngIf="dato.estado === 1">ACTIVO</td>
          <td *ngIf="dato.estado === 0">INACTIVO</td>
          <td>{{dato.fechaCreacion | date: "dd/MM/yyyy"}}</td>
          <td >
            <button type="button" class="btn btn-success" id="bteditar"   data-toggle="modal" data-target="#exampleModalEd" (click)="editar(dato)">Editar</button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <br/>
  <div class="col-md-9">
  </div>
</div>
<!--
<div *ngIf="selected">
  <app-detalle [acto]="actoSeleccionado"></app-detalle>
</div>
-->

<p-dialog header="{{tituloDialog}}" [(visible)]="displayBasicEd" [style]="{width: '50vw'}" [baseZIndex]="10000">
  <app-editar-funcio [funcioed]="funcionSeleccionado"></app-editar-funcio>
  <p-footer>

    <button type="button" class="btn btn-primary" id="salir1"   data-toggle="modal" data-target="#exampleModal" (click)="displayBasicEd=false">Cerrar</button>
  </p-footer>
</p-dialog>
<p-dialog header="{{tituloDialog}}" [(visible)]="displayBasicCr" [style]="{width: '50vw'}" [baseZIndex]="10000">
<app-crear-funcio></app-crear-funcio>
  <p-footer>

    <button type="button" class="btn btn-primary" id="salir2"   data-toggle="modal" data-target="#exampleModal" (click)="actualizar()">Cerrar</button>
  </p-footer>
</p-dialog>

